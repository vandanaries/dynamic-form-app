<div class="app-container">
  <div class="header">
    <h1>Dynamic Form Renderer</h1>
  </div>

  @if(formSchemas?.length > 0) {
  <div class="form-selector">
    @for(form of formSchemas; track $index){
    <button
      [class.active]="selectedForm.title === form.title"
      (click)="selectedForm = form"
    >
      {{ form.title }}
    </button>
    }
  </div>

  <div class="form-container">
    <app-form-renderer
      [schema]="selectedForm"
      (onSubmit)="onFormSubmit($event)"
    >
    </app-form-renderer>
  </div>
  } @else {
  <div class="loading">
    <div class="spinner"></div>
    <p>Loading forms, please wait...</p>
  </div>
  }
</div>

<!-- Success Modal -->
<div class="modal-backdrop" *ngIf="showModal">
  <div class="modal">
    <div class="modal-header">
      <h2>✅ Form Submitted Successfully</h2>
      <!-- <button class="close-btn" (click)="closeModal()">×</button> -->
    </div>

    <div class="modal-body">
      <pre>{{ submittedData | json }}</pre>
    </div>

    <div class="modal-footer">
      <button class="primary-btn" (click)="closeModal()">Close</button>
    </div>
  </div>
</div>
